{"ast":null,"code":"/*\n * Copyright 2021 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { Manager, Popper, Reference } from \"react-popper\";\nimport { AbstractPureComponent2, Classes as CoreClasses, DISPLAYNAME_PREFIX, Keys, mergeRefs, Overlay, refHandler, Utils } from \"@blueprintjs/core\";\nimport * as Classes from \"./classes\";\nimport { matchReferenceWidthModifier } from \"./customModifiers\";\nimport * as Errors from \"./errors\";\nimport { Popover2Arrow, POPOVER_ARROW_SVG_SIZE } from \"./popover2Arrow\";\nimport { positionToPlacement } from \"./popover2PlacementUtils\";\nimport { ResizeSensor2 } from \"./resizeSensor2\";\n// eslint-disable-next-line import/no-cycle\nimport { Tooltip2 } from \"./tooltip2\";\nimport { getBasePlacement, getTransformOrigin } from \"./utils\";\nexport var Popover2InteractionKind = {\n  CLICK: \"click\",\n  CLICK_TARGET_ONLY: \"click-target\",\n  HOVER: \"hover\",\n  HOVER_TARGET_ONLY: \"hover-target\"\n};\n/**\n * Component to display a floating UI next to and tethered to a target element.\n *\n * @template T target element props interface. Note that we cannot assign a default value for this type param because it\n * makes the type of the props supplied to `renderTarget()` cumbersome to work with when that API is used. Consumers\n * wishing to stay in sync with Blueprint's default target HTML props interface should use the\n * `DefaultPopover2TargetHTMLProps` type exported from @blueprintjs/popover2.\n * @see https://blueprintjs.com/docs/#popover2-package/popover2\n */\nvar Popover2 = /** @class */function (_super) {\n  __extends(Popover2, _super);\n  function Popover2() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      hasDarkParent: false,\n      isOpen: _this.getIsOpen(_this.props)\n    };\n    /**\n     * DOM element that contains the popover.\n     * When `usePortal={true}`, this element will be portaled outside the usual DOM flow,\n     * so this reference can be very useful for testing.\n     */\n    _this.popoverElement = null;\n    /** DOM element that contains the target. */\n    _this.targetElement = null;\n    /** Popover ref handler */\n    _this.popoverRef = refHandler(_this, \"popoverElement\", _this.props.popoverRef);\n    /** Target ref handler */\n    _this.targetRef = function (el) {\n      return _this.targetElement = el;\n    };\n    // a flag that lets us detect mouse movement between the target and popover,\n    // now that mouseleave is triggered when you cross the gap between the two.\n    _this.isMouseInTargetOrPopover = false;\n    // a flag that indicates whether the target previously lost focus to another\n    // element on the same page.\n    _this.lostFocusOnSamePage = true;\n    _this.isControlled = function () {\n      return _this.props.isOpen !== undefined;\n    };\n    // arrow is disabled if minimal, or if the arrow modifier was explicitly disabled\n    _this.isArrowEnabled = function () {\n      var _a, _b;\n      return !_this.props.minimal && ((_b = (_a = _this.props.modifiers) === null || _a === void 0 ? void 0 : _a.arrow) === null || _b === void 0 ? void 0 : _b.enabled) !== false;\n    };\n    _this.isHoverInteractionKind = function () {\n      return _this.props.interactionKind === Popover2InteractionKind.HOVER || _this.props.interactionKind === Popover2InteractionKind.HOVER_TARGET_ONLY;\n    };\n    /**\n     * Instance method to instruct the `Popover` to recompute its position.\n     *\n     * This method should only be used if you are updating the target in a way\n     * that does not cause it to re-render, such as changing its _position_\n     * without changing its _size_ (since `Popover` already repositions when it\n     * detects a resize).\n     */\n    _this.reposition = function () {\n      var _a;\n      return (_a = _this.popperScheduleUpdate) === null || _a === void 0 ? void 0 : _a.call(_this);\n    };\n    _this.renderTarget = function (_a) {\n      var _b, _c;\n      var _d, _e;\n      var popperChildRef = _a.ref;\n      var _f = _this.props,\n        children = _f.children,\n        className = _f.className,\n        fill = _f.fill,\n        openOnTargetFocus = _f.openOnTargetFocus,\n        renderTarget = _f.renderTarget;\n      var isOpen = _this.state.isOpen;\n      var isControlled = _this.isControlled();\n      var isHoverInteractionKind = _this.isHoverInteractionKind();\n      var targetTagName = _this.props.targetTagName;\n      if (fill) {\n        targetTagName = \"div\";\n      }\n      var ref = mergeRefs(popperChildRef, _this.targetRef);\n      var targetEventHandlers = isHoverInteractionKind ? {\n        // HOVER handlers\n        onBlur: _this.handleTargetBlur,\n        onContextMenu: _this.handleTargetContextMenu,\n        onFocus: _this.handleTargetFocus,\n        onMouseEnter: _this.handleMouseEnter,\n        onMouseLeave: _this.handleMouseLeave\n      } : {\n        // CLICK needs only one handler\n        onClick: _this.handleTargetClick,\n        // For keyboard accessibility, trigger the same behavior as a click event upon pressing ENTER/SPACE\n        onKeyDown: function (event) {\n          // eslint-disable-next-line deprecation/deprecation\n          return Keys.isKeyboardClick(event.keyCode) && _this.handleTargetClick(event);\n        }\n      };\n      // Ensure target is focusable if relevant prop enabled\n      var targetTabIndex = openOnTargetFocus && isHoverInteractionKind ? 0 : undefined;\n      var targetProps = __assign({\n        \"aria-haspopup\": (_d = _this.props.popupKind) !== null && _d !== void 0 ? _d : _this.props.interactionKind === Popover2InteractionKind.HOVER_TARGET_ONLY ? undefined : \"true\",\n        // N.B. this.props.className is passed along to renderTarget even though the user would have access to it.\n        // If, instead, renderTarget is undefined and the target is provided as a child, this.props.className is\n        // applied to the generated target wrapper element.\n        className: classNames(className, Classes.POPOVER2_TARGET, (_b = {}, _b[Classes.POPOVER2_OPEN] = isOpen,\n        // this class is mainly useful for button targets\n        _b[CoreClasses.ACTIVE] = !isControlled && isOpen && !isHoverInteractionKind, _b)),\n        ref: ref\n      }, targetEventHandlers);\n      var target;\n      if (renderTarget !== undefined) {\n        target = renderTarget(__assign(__assign({}, targetProps), {\n          // if the consumer renders a tooltip target, it's their responsibility to disable that tooltip\n          // when *this* popover is open\n          isOpen: isOpen,\n          tabIndex: targetTabIndex\n        }));\n      } else {\n        var childTarget = Utils.ensureElement(React.Children.toArray(children)[0]);\n        if (childTarget === undefined) {\n          return null;\n        }\n        var targetModifierClasses = (_c = {},\n        // this class is mainly useful for Blueprint <Button> targets; we should only apply it for\n        // uncontrolled popovers when they are opened by a user interaction\n        _c[CoreClasses.ACTIVE] = isOpen && !isControlled && !isHoverInteractionKind,\n        // similarly, this class is mainly useful for targets like <Button>, <InputGroup>, etc.\n        _c[CoreClasses.FILL] = fill, _c);\n        var clonedTarget = React.cloneElement(childTarget, {\n          className: classNames(childTarget.props.className, targetModifierClasses),\n          // force disable single Tooltip2 child when popover is open\n          disabled: isOpen && Utils.isElementOfType(childTarget, Tooltip2) ? true : childTarget.props.disabled,\n          tabIndex: (_e = childTarget.props.tabIndex) !== null && _e !== void 0 ? _e : targetTabIndex\n        });\n        var wrappedTarget = React.createElement(targetTagName, targetProps, clonedTarget);\n        target = wrappedTarget;\n      }\n      return React.createElement(ResizeSensor2, {\n        targetRef: ref,\n        onResize: _this.reposition\n      }, target);\n    };\n    _this.renderPopover = function (popperProps) {\n      var _a;\n      var _b;\n      var _c = _this.props,\n        interactionKind = _c.interactionKind,\n        shouldReturnFocusOnClose = _c.shouldReturnFocusOnClose,\n        usePortal = _c.usePortal;\n      var isOpen = _this.state.isOpen;\n      // compute an appropriate transform origin so the scale animation points towards target\n      var transformOrigin = getTransformOrigin(popperProps.placement, _this.isArrowEnabled() ? popperProps.arrowProps.style : undefined);\n      // need to update our reference to this function on every render as it will change.\n      _this.popperScheduleUpdate = popperProps.update;\n      var popoverHandlers = {\n        // always check popover clicks for dismiss class\n        onClick: _this.handlePopoverClick,\n        // treat ENTER/SPACE keys the same as a click for accessibility\n        // eslint-disable-next-line deprecation/deprecation\n        onKeyDown: function (event) {\n          return Keys.isKeyboardClick(event.keyCode) && _this.handlePopoverClick(event);\n        }\n      };\n      if (interactionKind === Popover2InteractionKind.HOVER || !usePortal && interactionKind === Popover2InteractionKind.HOVER_TARGET_ONLY) {\n        popoverHandlers.onMouseEnter = _this.handleMouseEnter;\n        popoverHandlers.onMouseLeave = _this.handleMouseLeave;\n      }\n      var basePlacement = getBasePlacement(popperProps.placement);\n      var popoverClasses = classNames(Classes.POPOVER2, (_a = {}, _a[CoreClasses.DARK] = _this.props.inheritDarkTheme && _this.state.hasDarkParent, _a[CoreClasses.MINIMAL] = _this.props.minimal, _a[Classes.POPOVER2_CAPTURING_DISMISS] = _this.props.captureDismiss, _a[Classes.POPOVER2_MATCH_TARGET_WIDTH] = _this.props.matchTargetWidth, _a[Classes.POPOVER2_REFERENCE_HIDDEN] = popperProps.isReferenceHidden === true, _a[Classes.POPOVER2_POPPER_ESCAPED] = popperProps.hasPopperEscaped === true, _a), \"\".concat(Classes.POPOVER2_CONTENT_PLACEMENT, \"-\").concat(basePlacement), _this.props.popoverClassName);\n      var defaultAutoFocus = _this.isHoverInteractionKind() ? false : undefined;\n      return React.createElement(Overlay, {\n        autoFocus: (_b = _this.props.autoFocus) !== null && _b !== void 0 ? _b : defaultAutoFocus,\n        backdropClassName: Classes.POPOVER2_BACKDROP,\n        backdropProps: _this.props.backdropProps,\n        canEscapeKeyClose: _this.props.canEscapeKeyClose,\n        canOutsideClickClose: _this.props.interactionKind === Popover2InteractionKind.CLICK,\n        enforceFocus: _this.props.enforceFocus,\n        hasBackdrop: _this.props.hasBackdrop,\n        isOpen: isOpen,\n        onClose: _this.handleOverlayClose,\n        onClosed: _this.props.onClosed,\n        onClosing: _this.props.onClosing,\n        onOpened: _this.props.onOpened,\n        onOpening: _this.props.onOpening,\n        transitionDuration: _this.props.transitionDuration,\n        transitionName: Classes.POPOVER2,\n        usePortal: _this.props.usePortal,\n        portalClassName: _this.props.portalClassName,\n        portalContainer: _this.props.portalContainer,\n        // if hover interaction, it doesn't make sense to take over focus control\n        shouldReturnFocusOnClose: _this.isHoverInteractionKind() ? false : shouldReturnFocusOnClose\n      }, React.createElement(\"div\", {\n        className: Classes.POPOVER2_TRANSITION_CONTAINER,\n        ref: popperProps.ref,\n        style: popperProps.style\n      }, React.createElement(ResizeSensor2, {\n        onResize: _this.reposition\n      }, React.createElement(\"div\", __assign({\n        className: popoverClasses,\n        style: {\n          transformOrigin: transformOrigin\n        },\n        ref: _this.popoverRef\n      }, popoverHandlers), _this.isArrowEnabled() && React.createElement(Popover2Arrow, {\n        arrowProps: popperProps.arrowProps,\n        placement: popperProps.placement\n      }), React.createElement(\"div\", {\n        className: Classes.POPOVER2_CONTENT\n      }, _this.props.content)))));\n    };\n    _this.handleTargetFocus = function (e) {\n      if (_this.props.openOnTargetFocus && _this.isHoverInteractionKind()) {\n        if (e.relatedTarget == null && !_this.lostFocusOnSamePage) {\n          // ignore this focus event -- the target was already focused but the page itself\n          // lost focus (e.g. due to switching tabs).\n          return;\n        }\n        _this.handleMouseEnter(e);\n      }\n    };\n    _this.handleTargetBlur = function (e) {\n      if (_this.props.openOnTargetFocus && _this.isHoverInteractionKind()) {\n        if (e.relatedTarget != null) {\n          // if the next element to receive focus is within the popover, we'll want to leave the\n          // popover open.\n          if (e.relatedTarget !== _this.popoverElement && !_this.isElementInPopover(e.relatedTarget)) {\n            _this.handleMouseLeave(e);\n          }\n        } else {\n          _this.handleMouseLeave(e);\n        }\n      }\n      _this.lostFocusOnSamePage = e.relatedTarget != null;\n    };\n    _this.handleTargetContextMenu = function (e) {\n      // we assume that when someone prevents the default interaction on this event (a browser native context menu),\n      // they are showing a custom context menu (as ContextMenu2 does); in this case, we should close this popover/tooltip\n      if (e.defaultPrevented) {\n        _this.setOpenState(false, e);\n      }\n    };\n    _this.handleMouseEnter = function (e) {\n      _this.isMouseInTargetOrPopover = true;\n      // if we're entering the popover, and the mode is set to be HOVER_TARGET_ONLY, we want to manually\n      // trigger the mouse leave event, as hovering over the popover shouldn't count.\n      if (!_this.props.usePortal && _this.isElementInPopover(e.target) && _this.props.interactionKind === Popover2InteractionKind.HOVER_TARGET_ONLY && !_this.props.openOnTargetFocus) {\n        _this.handleMouseLeave(e);\n      } else if (!_this.props.disabled) {\n        // only begin opening popover when it is enabled\n        _this.setOpenState(true, e, _this.props.hoverOpenDelay);\n      }\n    };\n    _this.handleMouseLeave = function (e) {\n      _this.isMouseInTargetOrPopover = false;\n      // wait until the event queue is flushed, because we want to leave the\n      // popover open if the mouse entered the popover immediately after\n      // leaving the target (or vice versa).\n      _this.setTimeout(function () {\n        if (_this.isMouseInTargetOrPopover) {\n          return;\n        }\n        // user-configurable closing delay is helpful when moving mouse from target to popover\n        _this.setOpenState(false, e, _this.props.hoverCloseDelay);\n      });\n    };\n    _this.handlePopoverClick = function (e) {\n      var _a, _b, _c, _d;\n      var eventTarget = e.target;\n      var eventPopover = eventTarget.closest(\".\".concat(Classes.POPOVER2));\n      var eventPopoverV1 = eventTarget.closest(\".\".concat(CoreClasses.POPOVER));\n      var isEventFromSelf = (eventPopover !== null && eventPopover !== void 0 ? eventPopover : eventPopoverV1) === _this.getPopoverElement();\n      var isEventPopoverCapturing = (_b = (_a = eventPopover === null || eventPopover === void 0 ? void 0 : eventPopover.classList.contains(Classes.POPOVER2_CAPTURING_DISMISS)) !== null && _a !== void 0 ? _a : eventPopoverV1 === null || eventPopoverV1 === void 0 ? void 0 : eventPopoverV1.classList.contains(CoreClasses.POPOVER_CAPTURING_DISMISS)) !== null && _b !== void 0 ? _b : false;\n      // an OVERRIDE inside a DISMISS does not dismiss, and a DISMISS inside an OVERRIDE will dismiss.\n      var dismissElement = eventTarget.closest(\".\".concat(Classes.POPOVER2_DISMISS, \", .\").concat(Classes.POPOVER2_DISMISS_OVERRIDE));\n      // dismiss selectors from the \"V1\" version of Popover in the core package\n      // we expect these to be rendered by MenuItem, which at this point has no knowledge of Popover2\n      // this can be removed once Popover2 is merged into core in v5.0\n      var dismissElementV1 = eventTarget.closest(\".\".concat(CoreClasses.POPOVER_DISMISS, \", .\").concat(CoreClasses.POPOVER_DISMISS_OVERRIDE));\n      var shouldDismiss = (_d = (_c = dismissElement === null || dismissElement === void 0 ? void 0 : dismissElement.classList.contains(Classes.POPOVER2_DISMISS)) !== null && _c !== void 0 ? _c : dismissElementV1 === null || dismissElementV1 === void 0 ? void 0 : dismissElementV1.classList.contains(CoreClasses.POPOVER_DISMISS)) !== null && _d !== void 0 ? _d : false;\n      var isDisabled = eventTarget.closest(\":disabled, .\".concat(CoreClasses.DISABLED)) != null;\n      if (shouldDismiss && !isDisabled && (!isEventPopoverCapturing || isEventFromSelf)) {\n        _this.setOpenState(false, e);\n      }\n    };\n    _this.handleOverlayClose = function (e) {\n      if (_this.targetElement === null || e === undefined) {\n        return;\n      }\n      var eventTarget = e.target;\n      // if click was in target, target event listener will handle things, so don't close\n      if (!Utils.elementIsOrContains(_this.targetElement, eventTarget) || e.nativeEvent instanceof KeyboardEvent) {\n        _this.setOpenState(false, e);\n      }\n    };\n    _this.handleTargetClick = function (e) {\n      // ensure click did not originate from within inline popover before closing\n      if (!_this.props.disabled && !_this.isElementInPopover(e.target)) {\n        if (_this.props.isOpen == null) {\n          _this.setState(function (prevState) {\n            return {\n              isOpen: !prevState.isOpen\n            };\n          });\n        } else {\n          _this.setOpenState(!_this.props.isOpen, e);\n        }\n      }\n    };\n    return _this;\n  }\n  // popper innerRef gives us a handle on the transition container, since that's what we render as the overlay child,\n  // so if we want to look at our actual popover element, we need to reach inside a bit\n  Popover2.prototype.getPopoverElement = function () {\n    var _a;\n    return (_a = this.popoverElement) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(Classes.POPOVER2));\n  };\n  Popover2.prototype.getIsOpen = function (props) {\n    var _a;\n    // disabled popovers should never be allowed to open.\n    if (props.disabled) {\n      return false;\n    } else {\n      return (_a = props.isOpen) !== null && _a !== void 0 ? _a : props.defaultIsOpen;\n    }\n  };\n  Popover2.prototype.render = function () {\n    var _a = this.props,\n      disabled = _a.disabled,\n      content = _a.content,\n      placement = _a.placement,\n      _b = _a.position,\n      position = _b === void 0 ? \"auto\" : _b,\n      positioningStrategy = _a.positioningStrategy;\n    var isOpen = this.state.isOpen;\n    var isContentEmpty = content == null || typeof content === \"string\" && content.trim() === \"\";\n    if (isContentEmpty) {\n      // need to do this check in render(), because `isOpen` is derived from\n      // state, and state can't necessarily be accessed in validateProps.\n      if (!disabled && isOpen !== false && !Utils.isNodeEnv(\"production\")) {\n        console.warn(Errors.POPOVER2_WARN_EMPTY_CONTENT);\n      }\n      // just render the target without a content overlay if there is no content to display\n      return this.renderTarget({\n        ref: noop\n      });\n    }\n    return React.createElement(Manager, null, React.createElement(Reference, null, this.renderTarget), React.createElement(Popper, {\n      innerRef: this.popoverRef,\n      placement: placement !== null && placement !== void 0 ? placement : positionToPlacement(position),\n      strategy: positioningStrategy,\n      modifiers: this.getPopperModifiers()\n    }, this.renderPopover));\n  };\n  Popover2.prototype.componentDidMount = function () {\n    this.updateDarkParent();\n  };\n  Popover2.prototype.componentDidUpdate = function (props, state) {\n    _super.prototype.componentDidUpdate.call(this, props, state);\n    this.updateDarkParent();\n    var nextIsOpen = this.getIsOpen(this.props);\n    if (this.props.isOpen != null && nextIsOpen !== this.state.isOpen) {\n      this.setOpenState(nextIsOpen);\n      // tricky: setOpenState calls setState only if this.props.isOpen is\n      // not controlled, so we need to invoke setState manually here.\n      this.setState({\n        isOpen: nextIsOpen\n      });\n    } else if (this.props.disabled && this.state.isOpen && this.props.isOpen == null) {\n      // special case: close an uncontrolled popover when disabled is set to true\n      this.setOpenState(false);\n    }\n  };\n  Popover2.prototype.validateProps = function (props) {\n    if (props.isOpen == null && props.onInteraction != null) {\n      console.warn(Errors.POPOVER2_WARN_UNCONTROLLED_ONINTERACTION);\n    }\n    if (props.hasBackdrop && !props.usePortal) {\n      console.warn(Errors.POPOVER2_WARN_HAS_BACKDROP_INLINE);\n    }\n    if (props.hasBackdrop && props.interactionKind !== Popover2InteractionKind.CLICK) {\n      console.warn(Errors.POPOVER2_HAS_BACKDROP_INTERACTION);\n    }\n    if (props.placement !== undefined && props.position !== undefined) {\n      console.warn(Errors.POPOVER2_WARN_PLACEMENT_AND_POSITION_MUTEX);\n    }\n    var childrenCount = React.Children.count(props.children);\n    var hasRenderTargetProp = props.renderTarget !== undefined;\n    if (childrenCount === 0 && !hasRenderTargetProp) {\n      console.warn(Errors.POPOVER2_REQUIRES_TARGET);\n    }\n    if (childrenCount > 1) {\n      console.warn(Errors.POPOVER2_WARN_TOO_MANY_CHILDREN);\n    }\n    if (childrenCount > 0 && hasRenderTargetProp) {\n      console.warn(Errors.POPOVER2_WARN_DOUBLE_TARGET);\n    }\n  };\n  Popover2.prototype.getPopperModifiers = function () {\n    var _a, _b, _c, _d;\n    var _e = this.props,\n      matchTargetWidth = _e.matchTargetWidth,\n      modifiers = _e.modifiers,\n      modifiersCustom = _e.modifiersCustom;\n    var popperModifiers = [__assign({\n      enabled: this.isArrowEnabled(),\n      name: \"arrow\"\n    }, modifiers === null || modifiers === void 0 ? void 0 : modifiers.arrow), __assign(__assign({\n      name: \"computeStyles\"\n    }, modifiers === null || modifiers === void 0 ? void 0 : modifiers.computeStyles), {\n      options: __assign({\n        adaptive: true,\n        // We disable the built-in gpuAcceleration so that\n        // Popper.js will return us easy to interpolate values\n        // (top, left instead of transform: translate3d)\n        // We'll then use these values to generate the needed\n        // css transform values blended with the react-spring values\n        gpuAcceleration: false\n      }, (_a = modifiers === null || modifiers === void 0 ? void 0 : modifiers.computeStyles) === null || _a === void 0 ? void 0 : _a.options)\n    }), __assign(__assign({\n      enabled: this.isArrowEnabled(),\n      name: \"offset\"\n    }, modifiers === null || modifiers === void 0 ? void 0 : modifiers.offset), {\n      options: __assign({\n        offset: [0, POPOVER_ARROW_SVG_SIZE / 2]\n      }, (_b = modifiers === null || modifiers === void 0 ? void 0 : modifiers.offset) === null || _b === void 0 ? void 0 : _b.options)\n    }), __assign(__assign({\n      name: \"flip\"\n    }, modifiers === null || modifiers === void 0 ? void 0 : modifiers.flip), {\n      options: __assign({\n        boundary: this.props.boundary,\n        rootBoundary: this.props.rootBoundary\n      }, (_c = modifiers === null || modifiers === void 0 ? void 0 : modifiers.flip) === null || _c === void 0 ? void 0 : _c.options)\n    }), __assign(__assign({\n      name: \"preventOverflow\"\n    }, modifiers === null || modifiers === void 0 ? void 0 : modifiers.preventOverflow), {\n      options: __assign({\n        boundary: this.props.boundary,\n        rootBoundary: this.props.rootBoundary\n      }, (_d = modifiers === null || modifiers === void 0 ? void 0 : modifiers.preventOverflow) === null || _d === void 0 ? void 0 : _d.options)\n    })];\n    if (matchTargetWidth) {\n      popperModifiers.push(matchReferenceWidthModifier);\n    }\n    if (modifiersCustom !== undefined) {\n      popperModifiers.push.apply(popperModifiers, modifiersCustom);\n    }\n    return popperModifiers;\n  };\n  // a wrapper around setState({ isOpen }) that will call props.onInteraction instead when in controlled mode.\n  // starts a timeout to delay changing the state if a non-zero duration is provided.\n  Popover2.prototype.setOpenState = function (isOpen, e, timeout) {\n    var _this = this;\n    var _a, _b, _c, _d, _e;\n    // cancel any existing timeout because we have new state\n    (_a = this.cancelOpenTimeout) === null || _a === void 0 ? void 0 : _a.call(this);\n    if (timeout !== undefined && timeout > 0) {\n      this.cancelOpenTimeout = this.setTimeout(function () {\n        return _this.setOpenState(isOpen, e);\n      }, timeout);\n    } else {\n      if (this.props.isOpen == null) {\n        this.setState({\n          isOpen: isOpen\n        });\n      } else {\n        (_c = (_b = this.props).onInteraction) === null || _c === void 0 ? void 0 : _c.call(_b, isOpen, e);\n      }\n      if (!isOpen) {\n        // non-null assertion because the only time `e` is undefined is when in controlled mode\n        // or the rare special case in uncontrolled mode when the `disabled` flag is toggled true\n        (_e = (_d = this.props).onClose) === null || _e === void 0 ? void 0 : _e.call(_d, e);\n      }\n    }\n  };\n  Popover2.prototype.updateDarkParent = function () {\n    if (this.props.usePortal && this.state.isOpen) {\n      var hasDarkParent = this.targetElement != null && this.targetElement.closest(\".\".concat(CoreClasses.DARK)) != null;\n      this.setState({\n        hasDarkParent: hasDarkParent\n      });\n    }\n  };\n  Popover2.prototype.isElementInPopover = function (element) {\n    var _a, _b;\n    return (_b = (_a = this.getPopoverElement()) === null || _a === void 0 ? void 0 : _a.contains(element)) !== null && _b !== void 0 ? _b : false;\n  };\n  Popover2.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".Popover2\");\n  Popover2.defaultProps = {\n    boundary: \"clippingParents\",\n    captureDismiss: false,\n    defaultIsOpen: false,\n    disabled: false,\n    fill: false,\n    hasBackdrop: false,\n    hoverCloseDelay: 300,\n    hoverOpenDelay: 150,\n    inheritDarkTheme: true,\n    interactionKind: Popover2InteractionKind.CLICK,\n    matchTargetWidth: false,\n    minimal: false,\n    openOnTargetFocus: true,\n    // N.B. we don't set a default for `placement` or `position` here because that would trigger\n    // a warning in validateProps if the other prop is specified by a user of this component\n    positioningStrategy: \"absolute\",\n    renderTarget: undefined,\n    shouldReturnFocusOnClose: false,\n    targetTagName: \"span\",\n    transitionDuration: 300,\n    usePortal: true\n  };\n  return Popover2;\n}(AbstractPureComponent2);\nexport { Popover2 };\nfunction noop() {\n  // no-op\n}","map":{"version":3,"mappings":"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","names":["classNames","React","Manager","Popper","Reference","AbstractPureComponent2","Classes","CoreClasses","DISPLAYNAME_PREFIX","Keys","mergeRefs","Overlay","refHandler","Utils","matchReferenceWidthModifier","Errors","Popover2Arrow","POPOVER_ARROW_SVG_SIZE","positionToPlacement","ResizeSensor2","Tooltip2","getBasePlacement","getTransformOrigin","Popover2InteractionKind","CLICK","CLICK_TARGET_ONLY","HOVER","HOVER_TARGET_ONLY","__extends","_this","hasDarkParent","isOpen","getIsOpen","props","popoverRef","targetElement","el","undefined","minimal","modifiers","arrow","enabled","interactionKind","popperScheduleUpdate","_a","popperChildRef","children","className","fill","openOnTargetFocus","renderTarget","state","isControlled","isHoverInteractionKind","targetTagName","ref","targetRef","targetEventHandlers","onBlur","handleTargetBlur","onContextMenu","handleTargetContextMenu","onFocus","handleTargetFocus","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onClick","handleTargetClick","onKeyDown","event","isKeyboardClick","keyCode","targetTabIndex","targetProps","popupKind","POPOVER2_TARGET","_b","POPOVER2_OPEN","ACTIVE","target","tabIndex","childTarget","ensureElement","Children","toArray","targetModifierClasses","_c","FILL","clonedTarget","cloneElement","disabled","isElementOfType","wrappedTarget","createElement","onResize","reposition","popperProps","shouldReturnFocusOnClose","usePortal","transformOrigin","placement","isArrowEnabled","arrowProps","style","update","popoverHandlers","handlePopoverClick","basePlacement","popoverClasses","POPOVER2","DARK","inheritDarkTheme","MINIMAL","POPOVER2_CAPTURING_DISMISS","captureDismiss","POPOVER2_MATCH_TARGET_WIDTH","matchTargetWidth","POPOVER2_REFERENCE_HIDDEN","isReferenceHidden","POPOVER2_POPPER_ESCAPED","hasPopperEscaped","POPOVER2_CONTENT_PLACEMENT","popoverClassName","defaultAutoFocus","autoFocus","backdropClassName","POPOVER2_BACKDROP","backdropProps","canEscapeKeyClose","canOutsideClickClose","enforceFocus","hasBackdrop","onClose","handleOverlayClose","onClosed","onClosing","onOpened","onOpening","transitionDuration","transitionName","portalClassName","portalContainer","POPOVER2_TRANSITION_CONTAINER","POPOVER2_CONTENT","content","e","relatedTarget","lostFocusOnSamePage","popoverElement","isElementInPopover","defaultPrevented","setOpenState","isMouseInTargetOrPopover","hoverOpenDelay","setTimeout","hoverCloseDelay","eventTarget","eventPopover","closest","eventPopoverV1","POPOVER","isEventFromSelf","getPopoverElement","isEventPopoverCapturing","classList","contains","POPOVER_CAPTURING_DISMISS","dismissElement","POPOVER2_DISMISS","POPOVER2_DISMISS_OVERRIDE","dismissElementV1","POPOVER_DISMISS","POPOVER_DISMISS_OVERRIDE","shouldDismiss","isDisabled","DISABLED","elementIsOrContains","nativeEvent","KeyboardEvent","setState","prevState","Popover2","querySelector","defaultIsOpen","position","positioningStrategy","isContentEmpty","trim","isNodeEnv","console","warn","POPOVER2_WARN_EMPTY_CONTENT","noop","innerRef","strategy","getPopperModifiers","renderPopover","updateDarkParent","_super","componentDidUpdate","nextIsOpen","onInteraction","POPOVER2_WARN_UNCONTROLLED_ONINTERACTION","POPOVER2_WARN_HAS_BACKDROP_INLINE","POPOVER2_HAS_BACKDROP_INTERACTION","POPOVER2_WARN_PLACEMENT_AND_POSITION_MUTEX","childrenCount","count","hasRenderTargetProp","POPOVER2_REQUIRES_TARGET","POPOVER2_WARN_TOO_MANY_CHILDREN","POPOVER2_WARN_DOUBLE_TARGET","modifiersCustom","popperModifiers","name","computeStyles","options","adaptive","gpuAcceleration","offset","flip","boundary","rootBoundary","preventOverflow","push","timeout","cancelOpenTimeout","element"],"sourceRoot":"","sources":["../../src/popover2.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}