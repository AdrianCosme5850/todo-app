{"ast":null,"code":"/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes as CoreClasses, DISPLAYNAME_PREFIX, Icon, Menu, Text } from \"@blueprintjs/core\";\nimport * as Classes from \"./classes\";\nimport { Popover2 } from \"./popover2\";\nvar MenuItem2 = /** @class */function (_super) {\n  __extends(MenuItem2, _super);\n  function MenuItem2() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MenuItem2.prototype.render = function () {\n    var _a, _b;\n    var _c;\n    var _d = this.props,\n      active = _d.active,\n      className = _d.className,\n      children = _d.children,\n      disabled = _d.disabled,\n      intent = _d.intent,\n      labelClassName = _d.labelClassName,\n      labelElement = _d.labelElement,\n      multiline = _d.multiline,\n      popoverProps = _d.popoverProps,\n      _e = _d.roleStructure,\n      roleStructure = _e === void 0 ? \"menuitem\" : _e,\n      selected = _d.selected,\n      shouldDismissPopover = _d.shouldDismissPopover,\n      submenuProps = _d.submenuProps,\n      text = _d.text,\n      textClassName = _d.textClassName,\n      _f = _d.tagName,\n      tagName = _f === void 0 ? \"a\" : _f,\n      htmlTitle = _d.htmlTitle,\n      htmlProps = __rest(_d, [\"active\", \"className\", \"children\", \"disabled\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"roleStructure\", \"selected\", \"shouldDismissPopover\", \"submenuProps\", \"text\", \"textClassName\", \"tagName\", \"htmlTitle\"]);\n    var _g = roleStructure === \"listoption\" ?\n      // \"listoption\": parent has listbox role, or is a <select>\n      [\"option\", undefined, (_c = this.props.icon) !== null && _c !== void 0 ? _c : selected === undefined ? undefined : selected ? \"small-tick\" : \"blank\", Boolean(selected) // aria-selected prop\n      ] :\n      // \"menuitem\": parent has menu role\n      [\"none\", \"menuitem\", this.props.icon, undefined // don't set aria-selected prop\n      ],\n      liRole = _g[0],\n      targetRole = _g[1],\n      icon = _g[2],\n      ariaSelected = _g[3];\n    var hasIcon = icon != null;\n    var hasSubmenu = children != null;\n    var intentClass = CoreClasses.intentClass(intent);\n    var anchorClasses = classNames(CoreClasses.MENU_ITEM, intentClass, (_a = {}, _a[CoreClasses.ACTIVE] = active, _a[CoreClasses.DISABLED] = disabled,\n    // prevent popover from closing when clicking on submenu trigger or disabled item\n    _a[Classes.POPOVER2_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu, _a[CoreClasses.SELECTED] = active && intentClass === undefined, _a), className);\n    var target = React.createElement(tagName, __assign(__assign(__assign({\n      role: targetRole,\n      tabIndex: 0\n    }, htmlProps), disabled ? DISABLED_PROPS : {}), {\n      className: anchorClasses\n    }), hasIcon ?\n    // wrap icon in a <span> in case `icon` is a custom element rather than a built-in icon identifier,\n    // so that we always render this class\n    React.createElement(\"span\", {\n      className: CoreClasses.MENU_ITEM_ICON\n    }, React.createElement(Icon, {\n      icon: icon,\n      \"aria-hidden\": true,\n      tabIndex: -1\n    })) : undefined, React.createElement(Text, {\n      className: classNames(CoreClasses.FILL, textClassName),\n      ellipsize: !multiline,\n      title: htmlTitle\n    }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, {\n      className: CoreClasses.MENU_SUBMENU_ICON,\n      icon: \"caret-right\"\n    }) : undefined);\n    var liClasses = classNames((_b = {}, _b[CoreClasses.MENU_SUBMENU] = hasSubmenu, _b));\n    return React.createElement(\"li\", {\n      className: liClasses,\n      role: liRole,\n      \"aria-selected\": ariaSelected\n    }, this.maybeRenderPopover(target, children));\n  };\n  MenuItem2.prototype.maybeRenderLabel = function (labelElement) {\n    var _a = this.props,\n      label = _a.label,\n      labelClassName = _a.labelClassName;\n    if (label == null && labelElement == null) {\n      return null;\n    }\n    return React.createElement(\"span\", {\n      className: classNames(CoreClasses.MENU_ITEM_LABEL, labelClassName)\n    }, label, labelElement);\n  };\n  MenuItem2.prototype.maybeRenderPopover = function (target, children) {\n    if (children == null) {\n      return target;\n    }\n    var _a = this.props,\n      disabled = _a.disabled,\n      popoverProps = _a.popoverProps,\n      submenuProps = _a.submenuProps;\n    return React.createElement(Popover2, __assign({\n      autoFocus: false,\n      captureDismiss: false,\n      disabled: disabled,\n      enforceFocus: false,\n      hoverCloseDelay: 0,\n      interactionKind: \"hover\",\n      modifiers: SUBMENU_POPOVER_MODIFIERS,\n      placement: \"right-start\",\n      usePortal: false\n    }, popoverProps, {\n      content: React.createElement(Menu, __assign({}, submenuProps), children),\n      minimal: true,\n      popoverClassName: classNames(CoreClasses.MENU_SUBMENU, popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.popoverClassName)\n    }), target);\n  };\n  MenuItem2.defaultProps = {\n    active: false,\n    disabled: false,\n    multiline: false,\n    popoverProps: {},\n    selected: undefined,\n    shouldDismissPopover: true,\n    text: \"\"\n  };\n  MenuItem2.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".MenuItem2\");\n  return MenuItem2;\n}(AbstractPureComponent2);\nexport { MenuItem2 };\nvar SUBMENU_POPOVER_MODIFIERS = {\n  // 20px padding - scrollbar width + a bit\n  flip: {\n    options: {\n      rootBoundary: \"viewport\",\n      padding: 20\n    },\n    enabled: true\n  },\n  // shift popover up 5px so MenuItems align\n  offset: {\n    options: {\n      offset: [-5, 0]\n    },\n    enabled: true\n  },\n  preventOverflow: {\n    options: {\n      rootBoundary: \"viewport\",\n      padding: 20\n    },\n    enabled: true\n  }\n};\n// props to ignore when disabled\nvar DISABLED_PROPS = {\n  href: undefined,\n  onClick: undefined,\n  onMouseDown: undefined,\n  onMouseEnter: undefined,\n  onMouseLeave: undefined,\n  tabIndex: -1\n};","map":{"version":3,"mappings":"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","names":["classNames","React","AbstractPureComponent2","Classes","CoreClasses","DISPLAYNAME_PREFIX","Icon","Menu","Text","Popover2","__extends","MenuItem2","_d","props","active","className","children","disabled","intent","labelClassName","labelElement","multiline","popoverProps","_e","roleStructure","selected","shouldDismissPopover","submenuProps","text","textClassName","_f","tagName","htmlTitle","htmlProps","undefined","icon","Boolean","liRole","targetRole","ariaSelected","hasIcon","hasSubmenu","intentClass","anchorClasses","MENU_ITEM","_a","ACTIVE","DISABLED","POPOVER2_DISMISS","SELECTED","target","createElement","role","tabIndex","DISABLED_PROPS","MENU_ITEM_ICON","FILL","ellipsize","title","maybeRenderLabel","MENU_SUBMENU_ICON","liClasses","_b","MENU_SUBMENU","maybeRenderPopover","label","MENU_ITEM_LABEL","autoFocus","captureDismiss","enforceFocus","hoverCloseDelay","interactionKind","modifiers","SUBMENU_POPOVER_MODIFIERS","placement","usePortal","content","minimal","popoverClassName","flip","options","rootBoundary","padding","enabled","offset","preventOverflow","href","onClick","onMouseDown","onMouseEnter","onMouseLeave"],"sourceRoot":"","sources":["../../src/menuItem2.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}