{"ast":null,"code":"var _jsxFileName = \"/home/adrian/codefellows/401/todo-app/src/context/authContext.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport cookie from 'react-cookies';\nimport jwt_decode from 'jwt-decode';\nimport { useState, createContext, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nconst testUsers = {\n  Admininistrator: {\n    password: 'admin',\n    name: 'Administrator',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQWRtaW5pc3RyYXRvciIsInJvbGUiOiJhZG1pbiIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJywncmVhZCcsJ3VwZGF0ZScsJ2RlbGV0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.pAZXAlTmC8fPELk2xHEaP1mUhR8egg9TH5rCyqZhZkQ'\n  },\n  Editor: {\n    password: 'editor',\n    name: 'Editor',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiRWRpdG9yIiwicm9sZSI6ImVkaXRvciIsImNhcGFiaWxpdGllcyI6IlsncmVhZCcsJ3VwZGF0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.3aDn3e2pf_J_1rZig8wj9RiT47Ae2Lw-AM-Nw4Tmy_s'\n  },\n  Writer: {\n    password: 'writer',\n    name: 'Writer',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiV3JpdGVyIiwicm9sZSI6IndyaXRlciIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.dmKh8m18mgQCCJp2xoh73HSOWprdwID32hZsXogLZ68'\n  },\n  User: {\n    password: 'user',\n    name: 'User',\n    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiVXNlciIsInJvbGUiOiJ1c2VyIiwiY2FwYWJpbGl0aWVzIjoiWydyZWFkJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.WXYvIKLdPz_Mm0XDYSOJo298ftuBqqjTzbRvCpxa9Go'\n  }\n};\nlet login = (username, password) => {\n  const User = testUsers[username];\n  if (User.password === password) {\n    setCapabilities(jwt_decode(User.token).capabilities);\n  } else {\n    setLoggedIn(false);\n    setCapabilities([]);\n    setError('bad creds');\n  }\n};\nlet logout = () => {\n  setLoggedIn(false);\n  setCapabilities([]);\n};\nconst AuthContextProvider = function (props) {\n  _s();\n  let [loggedIn, setLoggedIn] = useState(false);\n  let [capabilities, setCapabilities] = useState([]);\n  let [error, setError] = useState(null);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      loggedIn,\n      setLoggedIn,\n      capabilities,\n      setCapabilities,\n      error,\n      setError,\n      login,\n      logout\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthContextProvider, \"c7cVvOca1KhV+S60lOxbk2A5x4g=\");\n_c = AuthContextProvider;\nexport default AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["React","cookie","jwt_decode","useState","createContext","useEffect","AuthContext","testUsers","Admininistrator","password","name","token","Editor","Writer","User","login","username","setCapabilities","capabilities","setLoggedIn","setError","logout","AuthContextProvider","props","loggedIn","error","children"],"sources":["/home/adrian/codefellows/401/todo-app/src/context/authContext.jsx"],"sourcesContent":["import React from 'react';\r\nimport cookie from 'react-cookies';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { useState, createContext, useEffect} from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst testUsers = {\r\n    Admininistrator: {\r\n      password: 'admin',\r\n      name: 'Administrator',\r\n      token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiQWRtaW5pc3RyYXRvciIsInJvbGUiOiJhZG1pbiIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJywncmVhZCcsJ3VwZGF0ZScsJ2RlbGV0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.pAZXAlTmC8fPELk2xHEaP1mUhR8egg9TH5rCyqZhZkQ'\r\n    },\r\n    Editor: {\r\n      password: 'editor',\r\n      name: 'Editor',\r\n      token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiRWRpdG9yIiwicm9sZSI6ImVkaXRvciIsImNhcGFiaWxpdGllcyI6IlsncmVhZCcsJ3VwZGF0ZSddIiwiaWF0IjoxNTE2MjM5MDIyfQ.3aDn3e2pf_J_1rZig8wj9RiT47Ae2Lw-AM-Nw4Tmy_s'\r\n    },\r\n    Writer: {\r\n      password: 'writer',\r\n      name: 'Writer',\r\n      token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiV3JpdGVyIiwicm9sZSI6IndyaXRlciIsImNhcGFiaWxpdGllcyI6IlsnY3JlYXRlJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.dmKh8m18mgQCCJp2xoh73HSOWprdwID32hZsXogLZ68'\r\n    },\r\n    User: {\r\n      password: 'user',\r\n      name: 'User',\r\n      token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiVXNlciIsInJvbGUiOiJ1c2VyIiwiY2FwYWJpbGl0aWVzIjoiWydyZWFkJ10iLCJpYXQiOjE1MTYyMzkwMjJ9.WXYvIKLdPz_Mm0XDYSOJo298ftuBqqjTzbRvCpxa9Go'\r\n    },\r\n  };\r\n\r\n  let login = (username, password) => {\r\n    const User = testUsers[username];\r\n    if(User.password === password){\r\n        setCapabilities(jwt_decode(User.token).capabilities)\r\n    } else {\r\n        setLoggedIn(false)\r\n        setCapabilities([]);\r\n        setError('bad creds');\r\n    }\r\n  }\r\n\r\n  let logout = () => {\r\n    setLoggedIn(false)\r\n    setCapabilities([]);\r\n  }\r\n\r\n  const AuthContextProvider = function (props){\r\n    let [loggedIn, setLoggedIn] = useState(false);\r\n    let [capabilities, setCapabilities] = useState([]);\r\n    let [error, setError] = useState(null);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ loggedIn, setLoggedIn, capabilities, setCapabilities, error, setError, login, logout }}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n  }\r\n\r\n  export default AuthContextProvider;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,eAAe;AAClC,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,QAAQ,EAAEC,aAAa,EAAEC,SAAS,QAAO,OAAO;AAAC;AAE1D,OAAO,MAAMC,WAAW,gBAAGF,aAAa,EAAE;AAE1C,MAAMG,SAAS,GAAG;EACdC,eAAe,EAAE;IACfC,QAAQ,EAAE,OAAO;IACjBC,IAAI,EAAE,eAAe;IACrBC,KAAK,EAAE;EACT,CAAC;EACDC,MAAM,EAAE;IACNH,QAAQ,EAAE,QAAQ;IAClBC,IAAI,EAAE,QAAQ;IACdC,KAAK,EAAE;EACT,CAAC;EACDE,MAAM,EAAE;IACNJ,QAAQ,EAAE,QAAQ;IAClBC,IAAI,EAAE,QAAQ;IACdC,KAAK,EAAE;EACT,CAAC;EACDG,IAAI,EAAE;IACJL,QAAQ,EAAE,MAAM;IAChBC,IAAI,EAAE,MAAM;IACZC,KAAK,EAAE;EACT;AACF,CAAC;AAED,IAAII,KAAK,GAAG,CAACC,QAAQ,EAAEP,QAAQ,KAAK;EAClC,MAAMK,IAAI,GAAGP,SAAS,CAACS,QAAQ,CAAC;EAChC,IAAGF,IAAI,CAACL,QAAQ,KAAKA,QAAQ,EAAC;IAC1BQ,eAAe,CAACf,UAAU,CAACY,IAAI,CAACH,KAAK,CAAC,CAACO,YAAY,CAAC;EACxD,CAAC,MAAM;IACHC,WAAW,CAAC,KAAK,CAAC;IAClBF,eAAe,CAAC,EAAE,CAAC;IACnBG,QAAQ,CAAC,WAAW,CAAC;EACzB;AACF,CAAC;AAED,IAAIC,MAAM,GAAG,MAAM;EACjBF,WAAW,CAAC,KAAK,CAAC;EAClBF,eAAe,CAAC,EAAE,CAAC;AACrB,CAAC;AAED,MAAMK,mBAAmB,GAAG,UAAUC,KAAK,EAAC;EAAA;EAC1C,IAAI,CAACC,QAAQ,EAAEL,WAAW,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC7C,IAAI,CAACe,YAAY,EAAED,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,IAAI,CAACsB,KAAK,EAAEL,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAEtC,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEqB,QAAQ;MAAEL,WAAW;MAAED,YAAY;MAAED,eAAe;MAAEQ,KAAK;MAAEL,QAAQ;MAAEL,KAAK;MAAEM;IAAO,CAAE;IAAA,UACjHE,KAAK,CAACG;EAAQ;IAAA;IAAA;IAAA;EAAA,QACI;AAE7B,CAAC;AAAA,GAVKJ,mBAAmB;AAAA,KAAnBA,mBAAmB;AAYzB,eAAeA,mBAAmB;AAAC;AAAA"},"metadata":{},"sourceType":"module"}