{"ast":null,"code":"/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\n/* eslint-disable deprecation/deprecation */\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\nimport { Text } from \"../text/text\";\nimport { Menu } from \"./menu\";\nvar MenuItem = /** @class */function (_super) {\n  __extends(MenuItem, _super);\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MenuItem.prototype.render = function () {\n    var _a, _b;\n    var _c = this.props,\n      // eslint-disable-next-line deprecation/deprecation\n      active = _c.active,\n      className = _c.className,\n      children = _c.children,\n      disabled = _c.disabled,\n      icon = _c.icon,\n      intent = _c.intent,\n      labelClassName = _c.labelClassName,\n      labelElement = _c.labelElement,\n      multiline = _c.multiline,\n      popoverProps = _c.popoverProps,\n      _d = _c.roleStructure,\n      roleStructure = _d === void 0 ? \"menuitem\" : _d,\n      selected = _c.selected,\n      shouldDismissPopover = _c.shouldDismissPopover,\n      submenuProps = _c.submenuProps,\n      text = _c.text,\n      textClassName = _c.textClassName,\n      _e = _c.tagName,\n      tagName = _e === void 0 ? \"a\" : _e,\n      htmlTitle = _c.htmlTitle,\n      htmlProps = __rest(_c, [\"active\", \"className\", \"children\", \"disabled\", \"icon\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"roleStructure\", \"selected\", \"shouldDismissPopover\", \"submenuProps\", \"text\", \"textClassName\", \"tagName\", \"htmlTitle\"]);\n    var hasIcon = icon != null;\n    var hasSubmenu = children != null;\n    var intentClass = Classes.intentClass(intent);\n    var anchorClasses = classNames(Classes.MENU_ITEM, intentClass, (_a = {}, _a[Classes.ACTIVE] = active, _a[Classes.DISABLED] = disabled,\n    // prevent popover from closing when clicking on submenu trigger or disabled item\n    _a[Classes.POPOVER_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu, _a[Classes.SELECTED] = selected || active && intentClass === undefined, _a), className);\n    var _f = roleStructure === \"listoption\" ? [\"option\", undefined, active || selected] // parent has listbox role, or is a <select>\n      : [\"none\", \"menuitem\", undefined],\n      liRole = _f[0],\n      targetRole = _f[1],\n      ariaSelected = _f[2]; // parent has menu role\n    var target = React.createElement(tagName, __assign(__assign(__assign({\n      role: targetRole,\n      tabIndex: 0\n    }, htmlProps), disabled ? DISABLED_PROPS : {}), {\n      className: anchorClasses\n    }), hasIcon ?\n    // wrap icon in a <span> in case `icon` is a custom element rather than a built-in icon identifier,\n    // so that we always render this class\n    React.createElement(\"span\", {\n      className: Classes.MENU_ITEM_ICON\n    }, React.createElement(Icon, {\n      icon: icon,\n      \"aria-hidden\": true,\n      tabIndex: -1\n    })) : undefined, React.createElement(Text, {\n      className: classNames(Classes.FILL, textClassName),\n      ellipsize: !multiline,\n      title: htmlTitle\n    }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, {\n      className: Classes.MENU_SUBMENU_ICON,\n      icon: \"caret-right\"\n    }) : undefined);\n    var liClasses = classNames((_b = {}, _b[Classes.MENU_SUBMENU] = hasSubmenu, _b));\n    return React.createElement(\"li\", {\n      className: liClasses,\n      role: liRole,\n      \"aria-selected\": ariaSelected\n    }, this.maybeRenderPopover(target, children));\n  };\n  MenuItem.prototype.maybeRenderLabel = function (labelElement) {\n    var _a = this.props,\n      label = _a.label,\n      labelClassName = _a.labelClassName;\n    if (label == null && labelElement == null) {\n      return null;\n    }\n    return React.createElement(\"span\", {\n      className: classNames(Classes.MENU_ITEM_LABEL, labelClassName)\n    }, label, labelElement);\n  };\n  MenuItem.prototype.maybeRenderPopover = function (target, children) {\n    if (children == null) {\n      return target;\n    }\n    var _a = this.props,\n      disabled = _a.disabled,\n      popoverProps = _a.popoverProps,\n      submenuProps = _a.submenuProps;\n    return React.createElement(Popover, __assign({\n      autoFocus: false,\n      captureDismiss: false,\n      disabled: disabled,\n      enforceFocus: false,\n      hoverCloseDelay: 0,\n      interactionKind: PopoverInteractionKind.HOVER,\n      modifiers: SUBMENU_POPOVER_MODIFIERS,\n      position: Position.RIGHT_TOP,\n      usePortal: false\n    }, popoverProps, {\n      content: React.createElement(Menu, __assign({}, submenuProps), children),\n      minimal: true,\n      popoverClassName: classNames(Classes.MENU_SUBMENU, popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.popoverClassName),\n      target: target\n    }));\n  };\n  MenuItem.defaultProps = {\n    active: false,\n    disabled: false,\n    multiline: false,\n    popoverProps: {},\n    selected: false,\n    shouldDismissPopover: true,\n    text: \"\"\n  };\n  MenuItem.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".MenuItem\");\n  return MenuItem;\n}(AbstractPureComponent2);\nexport { MenuItem };\nvar SUBMENU_POPOVER_MODIFIERS = {\n  // 20px padding - scrollbar width + a bit\n  flip: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  },\n  // shift popover up 5px so MenuItems align\n  offset: {\n    offset: -5\n  },\n  preventOverflow: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  }\n};\n// props to ignore when disabled\nvar DISABLED_PROPS = {\n  href: undefined,\n  onClick: undefined,\n  onMouseDown: undefined,\n  onMouseEnter: undefined,\n  onMouseLeave: undefined,\n  tabIndex: -1\n};","map":{"version":3,"mappings":"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","names":["classNames","React","AbstractPureComponent2","Classes","Position","DISPLAYNAME_PREFIX","Icon","Popover","PopoverInteractionKind","Text","Menu","__extends","MenuItem","_c","props","active","className","children","disabled","icon","intent","labelClassName","labelElement","multiline","popoverProps","_d","roleStructure","selected","shouldDismissPopover","submenuProps","text","textClassName","_e","tagName","htmlTitle","htmlProps","hasIcon","hasSubmenu","intentClass","anchorClasses","MENU_ITEM","_a","ACTIVE","DISABLED","POPOVER_DISMISS","SELECTED","undefined","liRole","targetRole","ariaSelected","target","createElement","role","tabIndex","DISABLED_PROPS","MENU_ITEM_ICON","FILL","ellipsize","title","maybeRenderLabel","MENU_SUBMENU_ICON","liClasses","_b","MENU_SUBMENU","maybeRenderPopover","label","MENU_ITEM_LABEL","autoFocus","captureDismiss","enforceFocus","hoverCloseDelay","interactionKind","HOVER","modifiers","SUBMENU_POPOVER_MODIFIERS","position","RIGHT_TOP","usePortal","content","minimal","popoverClassName","flip","boundariesElement","padding","offset","preventOverflow","href","onClick","onMouseDown","onMouseEnter","onMouseLeave"],"sourceRoot":"","sources":["../../../../src/components/menu/menuItem.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}