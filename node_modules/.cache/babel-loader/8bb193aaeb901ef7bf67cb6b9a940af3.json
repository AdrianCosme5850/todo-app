{"ast":null,"code":"var _jsxFileName = \"/home/adrian/codefellows/401/todo-app/src/components/todo/DisplayTasks.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from 'react';\nimport { ListContext } from '../../context/listContex';\nimport { Button, Icon } from '@blueprintjs/core';\nimport { AuthContext } from '../../context/authContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DisplayTasks = () => {\n  _s();\n  const context = useContext(ListContext);\n  const authContext = useContext(AuthContext);\n  let list = context.list;\n  let setList = context.setList;\n  let pagination = context.pagination;\n  let index = context.index;\n  let setIndex = context.setIndex;\n  let sortA = context.sortA;\n  let showComplete = context.showComplete;\n  let [showButtonLeft, setShowButtonLeft] = useState(true);\n  let [showButtonRight, setShowButtonRight] = useState(true);\n  let capabilities = authContext.capabilities;\n  function deleteItem(id) {\n    if (capabilities.includes('delete')) {\n      const items = list.filter(item => item.id !== id);\n      setList(items);\n    }\n    ;\n  }\n  function toggleComplete(id) {\n    if (capabilities.includes('update')) {\n      const items = list.map(item => {\n        if (item.id == id) {\n          item.complete = !item.complete;\n        }\n        return item;\n      });\n      setList(items);\n    }\n  }\n  function showTask(idx) {\n    let tasksToShow = [...list];\n    if (!showComplete) {\n      tasksToShow = tasksToShow.filter(tasks => tasks.complete === false);\n    }\n    if (sortA) {\n      if (sortA === true) {\n        tasksToShow.sort((a, b) => {\n          if (a.assignee.toLowerCase() < b.assignee.toLowerCase()) {\n            return -1;\n          }\n          ;\n          if (a.assignee.toLowerCase() > b.assignee.toLowerCase()) {\n            return 1;\n          }\n          ;\n          return 0;\n        });\n      }\n    }\n    let task = tasksToShow.slice(idx, idx + pagination);\n    return task.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"itemDescription\",\n        children: item.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"itemAssignee\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Assigned to: \", item.assignee]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [\"Difficulty: \", item.difficulty]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => toggleComplete(item.id),\n        children: [\"Complete: \", item.complete.toString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        intent: \"success\",\n        text: \"Complete Task\",\n        onClick: () => toggleComplete(item.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        intent: \"danger\",\n        text: \"X\",\n        onClick: () => deleteItem(item.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }, this));\n  }\n  useEffect(() => {\n    if (index + pagination > list.length) {\n      setShowButtonRight(true);\n    }\n    if (index + pagination < list.length) {\n      setShowButtonRight(false);\n    }\n    if (index === 0) {\n      setShowButtonLeft(true);\n    }\n    if (index !== 0) {\n      setShowButtonLeft(false);\n    }\n  }, [list, index]);\n  useEffect(async () => {\n    let recordedTasks = await fetch(\"http://localhost:3001/api/v1/tasks\");\n    console.log(recordedTasks.body);\n  }, []);\n  function paginationAdd() {\n    setIndex(index + pagination);\n  }\n  function paginationSubtract() {\n    setIndex(index - pagination);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showTask(index), /*#__PURE__*/_jsxDEV(Button, {\n      rightIcon: \"arrow-left\",\n      onClick: () => paginationSubtract(),\n      disabled: showButtonLeft\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      rightIcon: \"arrow-right\",\n      onClick: () => paginationAdd(),\n      disabled: showButtonRight\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n};\n_s(DisplayTasks, \"sM+5WETnho0yvkjjMuOS7/s9NDU=\");\n_c = DisplayTasks;\nexport default DisplayTasks;\nvar _c;\n$RefreshReg$(_c, \"DisplayTasks\");","map":{"version":3,"names":["useContext","useEffect","useState","ListContext","Button","Icon","AuthContext","DisplayTasks","context","authContext","list","setList","pagination","index","setIndex","sortA","showComplete","showButtonLeft","setShowButtonLeft","showButtonRight","setShowButtonRight","capabilities","deleteItem","id","includes","items","filter","item","toggleComplete","map","complete","showTask","idx","tasksToShow","tasks","sort","a","b","assignee","toLowerCase","task","slice","text","difficulty","toString","length","recordedTasks","fetch","console","log","body","paginationAdd","paginationSubtract"],"sources":["/home/adrian/codefellows/401/todo-app/src/components/todo/DisplayTasks.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\r\nimport { ListContext } from '../../context/listContex';\r\nimport { Button, Icon } from '@blueprintjs/core';\r\nimport { AuthContext } from '../../context/authContext';\r\n\r\nconst DisplayTasks = () => {\r\n    const context = useContext(ListContext);\r\n    const authContext = useContext(AuthContext);\r\n    let list = context.list;\r\n    let setList = context.setList;\r\n    let pagination = context.pagination;\r\n    let index = context.index;\r\n    let setIndex = context.setIndex;\r\n    let sortA = context.sortA;\r\n    let showComplete = context.showComplete;\r\n    let [showButtonLeft, setShowButtonLeft] = useState(true)\r\n    let [showButtonRight, setShowButtonRight] = useState(true);\r\n    let capabilities = authContext.capabilities;\r\n\r\nfunction deleteItem(id) {\r\n  if(capabilities.includes('delete')){\r\n    const items = list.filter( item => item.id !== id );\r\n    setList(items);};\r\n    }\r\n\r\n    function toggleComplete(id) {\r\n      if(capabilities.includes('update')){\r\n      const items = list.map( item => {\r\n        if ( item.id == id ) {\r\n          item.complete = ! item.complete;\r\n        }\r\n        return item;\r\n      });\r\n      setList(items);}\r\n    }\r\n\r\nfunction showTask(idx){\r\n    let tasksToShow = [...list];\r\n    if(!showComplete){\r\n      tasksToShow = tasksToShow.filter(tasks => tasks.complete === false)\r\n    }\r\n    if(sortA){\r\n      if(sortA === true){\r\n        tasksToShow.sort((a, b) => {\r\n          if(a.assignee.toLowerCase() < b.assignee.toLowerCase()){ return -1};\r\n          if(a.assignee.toLowerCase() > b.assignee.toLowerCase()){ return 1};\r\n          return 0;\r\n        })\r\n      }\r\n    }\r\n  let task = tasksToShow.slice(idx, idx + pagination);\r\n  return task.map(item => (\r\n          <div key={item.id}>\r\n            <p data-testid=\"itemDescription\">{item.text}</p>\r\n            <p data-testid=\"itemAssignee\"><small>Assigned to: {item.assignee}</small></p>\r\n            <p><small>Difficulty: {item.difficulty}</small></p>\r\n            <div onClick={() => toggleComplete(item.id)}>Complete: {item.complete.toString()}</div>\r\n            <hr />\r\n            <Button intent='success' text='Complete Task' onClick={() => toggleComplete(item.id)}></Button>\r\n            <Button intent='danger' text='X' onClick={() => deleteItem(item.id)}></Button>\r\n           </div>\r\n        ))\r\n}\r\nuseEffect(() => {\r\nif(index + pagination > list.length){\r\n  setShowButtonRight(true);\r\n}\r\nif(index + pagination < list.length){\r\n  setShowButtonRight(false)\r\n  }\r\nif(index === 0){\r\n  setShowButtonLeft(true)\r\n}\r\n  if(index !== 0){\r\n    setShowButtonLeft(false)\r\n  }\r\n}, [list, index])\r\nuseEffect( async () => {\r\n  let recordedTasks = await fetch(\"http://localhost:3001/api/v1/tasks\");\r\n  console.log(recordedTasks.body)\r\n}, [])\r\n\r\nfunction paginationAdd(){\r\n  setIndex(index + pagination);\r\n}\r\nfunction paginationSubtract(){\r\n  setIndex(index - pagination);\r\n}\r\n\r\nreturn(<>\r\n{showTask(index)}\r\n<Button rightIcon='arrow-left' onClick={() => paginationSubtract()} disabled={showButtonLeft}></Button>\r\n<Button rightIcon='arrow-right' onClick={() => paginationAdd()} disabled={showButtonRight}></Button>\r\n  </>)\r\n}\r\n\r\nexport default DisplayTasks;"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,MAAM,EAAEC,IAAI,QAAQ,mBAAmB;AAChD,SAASC,WAAW,QAAQ,2BAA2B;AAAC;AAAA;AAExD,MAAMC,YAAY,GAAG,MAAM;EAAA;EACvB,MAAMC,OAAO,GAAGR,UAAU,CAACG,WAAW,CAAC;EACvC,MAAMM,WAAW,GAAGT,UAAU,CAACM,WAAW,CAAC;EAC3C,IAAII,IAAI,GAAGF,OAAO,CAACE,IAAI;EACvB,IAAIC,OAAO,GAAGH,OAAO,CAACG,OAAO;EAC7B,IAAIC,UAAU,GAAGJ,OAAO,CAACI,UAAU;EACnC,IAAIC,KAAK,GAAGL,OAAO,CAACK,KAAK;EACzB,IAAIC,QAAQ,GAAGN,OAAO,CAACM,QAAQ;EAC/B,IAAIC,KAAK,GAAGP,OAAO,CAACO,KAAK;EACzB,IAAIC,YAAY,GAAGR,OAAO,CAACQ,YAAY;EACvC,IAAI,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxD,IAAI,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC1D,IAAImB,YAAY,GAAGZ,WAAW,CAACY,YAAY;EAE/C,SAASC,UAAU,CAACC,EAAE,EAAE;IACtB,IAAGF,YAAY,CAACG,QAAQ,CAAC,QAAQ,CAAC,EAAC;MACjC,MAAMC,KAAK,GAAGf,IAAI,CAACgB,MAAM,CAAEC,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKA,EAAE,CAAE;MACnDZ,OAAO,CAACc,KAAK,CAAC;IAAC;IAAC;EAChB;EAEA,SAASG,cAAc,CAACL,EAAE,EAAE;IAC1B,IAAGF,YAAY,CAACG,QAAQ,CAAC,QAAQ,CAAC,EAAC;MACnC,MAAMC,KAAK,GAAGf,IAAI,CAACmB,GAAG,CAAEF,IAAI,IAAI;QAC9B,IAAKA,IAAI,CAACJ,EAAE,IAAIA,EAAE,EAAG;UACnBI,IAAI,CAACG,QAAQ,GAAG,CAAEH,IAAI,CAACG,QAAQ;QACjC;QACA,OAAOH,IAAI;MACb,CAAC,CAAC;MACFhB,OAAO,CAACc,KAAK,CAAC;IAAC;EACjB;EAEJ,SAASM,QAAQ,CAACC,GAAG,EAAC;IAClB,IAAIC,WAAW,GAAG,CAAC,GAAGvB,IAAI,CAAC;IAC3B,IAAG,CAACM,YAAY,EAAC;MACfiB,WAAW,GAAGA,WAAW,CAACP,MAAM,CAACQ,KAAK,IAAIA,KAAK,CAACJ,QAAQ,KAAK,KAAK,CAAC;IACrE;IACA,IAAGf,KAAK,EAAC;MACP,IAAGA,KAAK,KAAK,IAAI,EAAC;QAChBkB,WAAW,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UACzB,IAAGD,CAAC,CAACE,QAAQ,CAACC,WAAW,EAAE,GAAGF,CAAC,CAACC,QAAQ,CAACC,WAAW,EAAE,EAAC;YAAE,OAAO,CAAC,CAAC;UAAA;UAAC;UACnE,IAAGH,CAAC,CAACE,QAAQ,CAACC,WAAW,EAAE,GAAGF,CAAC,CAACC,QAAQ,CAACC,WAAW,EAAE,EAAC;YAAE,OAAO,CAAC;UAAA;UAAC;UAClE,OAAO,CAAC;QACV,CAAC,CAAC;MACJ;IACF;IACF,IAAIC,IAAI,GAAGP,WAAW,CAACQ,KAAK,CAACT,GAAG,EAAEA,GAAG,GAAGpB,UAAU,CAAC;IACnD,OAAO4B,IAAI,CAACX,GAAG,CAACF,IAAI,iBACZ;MAAA,wBACE;QAAG,eAAY,iBAAiB;QAAA,UAAEA,IAAI,CAACe;MAAI;QAAA;QAAA;QAAA;MAAA,QAAK,eAChD;QAAG,eAAY,cAAc;QAAA,uBAAC;UAAA,4BAAqBf,IAAI,CAACW,QAAQ;QAAA;UAAA;UAAA;UAAA;QAAA;MAAS;QAAA;QAAA;QAAA;MAAA,QAAI,eAC7E;QAAA,uBAAG;UAAA,2BAAoBX,IAAI,CAACgB,UAAU;QAAA;UAAA;UAAA;UAAA;QAAA;MAAS;QAAA;QAAA;QAAA;MAAA,QAAI,eACnD;QAAK,OAAO,EAAE,MAAMf,cAAc,CAACD,IAAI,CAACJ,EAAE,CAAE;QAAA,yBAAYI,IAAI,CAACG,QAAQ,CAACc,QAAQ,EAAE;MAAA;QAAA;QAAA;QAAA;MAAA,QAAO,eACvF;QAAA;QAAA;QAAA;MAAA,QAAM,eACN,QAAC,MAAM;QAAC,MAAM,EAAC,SAAS;QAAC,IAAI,EAAC,eAAe;QAAC,OAAO,EAAE,MAAMhB,cAAc,CAACD,IAAI,CAACJ,EAAE;MAAE;QAAA;QAAA;QAAA;MAAA,QAAU,eAC/F,QAAC,MAAM;QAAC,MAAM,EAAC,QAAQ;QAAC,IAAI,EAAC,GAAG;QAAC,OAAO,EAAE,MAAMD,UAAU,CAACK,IAAI,CAACJ,EAAE;MAAE;QAAA;QAAA;QAAA;MAAA,QAAU;IAAA,GAPtEI,IAAI,CAACJ,EAAE;MAAA;MAAA;MAAA;IAAA,QASlB,CAAC;EACV;EACAtB,SAAS,CAAC,MAAM;IAChB,IAAGY,KAAK,GAAGD,UAAU,GAAGF,IAAI,CAACmC,MAAM,EAAC;MAClCzB,kBAAkB,CAAC,IAAI,CAAC;IAC1B;IACA,IAAGP,KAAK,GAAGD,UAAU,GAAGF,IAAI,CAACmC,MAAM,EAAC;MAClCzB,kBAAkB,CAAC,KAAK,CAAC;IACzB;IACF,IAAGP,KAAK,KAAK,CAAC,EAAC;MACbK,iBAAiB,CAAC,IAAI,CAAC;IACzB;IACE,IAAGL,KAAK,KAAK,CAAC,EAAC;MACbK,iBAAiB,CAAC,KAAK,CAAC;IAC1B;EACF,CAAC,EAAE,CAACR,IAAI,EAAEG,KAAK,CAAC,CAAC;EACjBZ,SAAS,CAAE,YAAY;IACrB,IAAI6C,aAAa,GAAG,MAAMC,KAAK,CAAC,oCAAoC,CAAC;IACrEC,OAAO,CAACC,GAAG,CAACH,aAAa,CAACI,IAAI,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAEN,SAASC,aAAa,GAAE;IACtBrC,QAAQ,CAACD,KAAK,GAAGD,UAAU,CAAC;EAC9B;EACA,SAASwC,kBAAkB,GAAE;IAC3BtC,QAAQ,CAACD,KAAK,GAAGD,UAAU,CAAC;EAC9B;EAEA,oBAAO;IAAA,WACNmB,QAAQ,CAAClB,KAAK,CAAC,eAChB,QAAC,MAAM;MAAC,SAAS,EAAC,YAAY;MAAC,OAAO,EAAE,MAAMuC,kBAAkB,EAAG;MAAC,QAAQ,EAAEnC;IAAe;MAAA;MAAA;MAAA;IAAA,QAAU,eACvG,QAAC,MAAM;MAAC,SAAS,EAAC,aAAa;MAAC,OAAO,EAAE,MAAMkC,aAAa,EAAG;MAAC,QAAQ,EAAEhC;IAAgB;MAAA;MAAA;MAAA;IAAA,QAAU;EAAA,gBAC/F;AACL,CAAC;AAAA,GAzFKZ,YAAY;AAAA,KAAZA,YAAY;AA2FlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}