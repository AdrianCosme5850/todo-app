{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/authContext';\nimport axios from 'axios';\nconst useForm = function (callback) {\n  _s();\n  let defaultValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const authContext = useContext(AuthContext);\n  let token = authContext.token;\n  const [values, setValues] = useState({});\n  const handleSubmit = async event => {\n    event.preventDefault();\n    console.log(process.env.REACT_APP_SERVER);\n    let url = 'http://localhost:3001/api/v1/tasks';\n    values.complete = false;\n    let jsonValues = JSON.stringify(values);\n    console.log(jsonValues);\n    let taskResponse = await axios.post(url, jsonValues);\n    callback(taskResponse.data);\n  };\n  const handleChange = event => {\n    event.persist();\n    let {\n      name,\n      value\n    } = event.target;\n    if (parseInt(value)) {\n      value = parseInt(value);\n    }\n    setValues(values => ({\n      ...values,\n      [name]: value\n    }));\n  };\n  useEffect(() => {\n    setValues(defaultValues);\n  }, [defaultValues]);\n  return {\n    handleChange,\n    handleSubmit,\n    values\n  };\n};\n_s(useForm, \"YkVT458A6uz/3XZWXseYYZ2Ef/k=\");\nexport default useForm;","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","axios","useForm","callback","defaultValues","authContext","token","values","setValues","handleSubmit","event","preventDefault","console","log","process","env","REACT_APP_SERVER","url","complete","jsonValues","JSON","stringify","taskResponse","post","data","handleChange","persist","name","value","target","parseInt"],"sources":["/home/adrian/codefellows/401/todo-app/src/hooks/form.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../context/authContext';\r\nimport axios from 'axios';\r\n\r\nconst useForm = (callback, defaultValues={}) => {\r\n\r\n  const authContext = useContext(AuthContext);\r\n  let token = authContext.token;\r\n\r\n\r\n  const [values, setValues] = useState({});\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(process.env.REACT_APP_SERVER)\r\n    let url = 'http://localhost:3001/api/v1/tasks'\r\n    values.complete = false;\r\n    let jsonValues = JSON.stringify(values)\r\n    console.log(jsonValues)\r\n    let taskResponse = await axios.post(url, jsonValues)\r\n    callback(taskResponse.data);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n\r\n    let { name, value } = event.target;\r\n    if (parseInt(value)) {\r\n      value = parseInt(value);\r\n    }\r\n\r\n    setValues(values => ({ ...values, [name]: value }));\r\n  };\r\n\r\n  useEffect( () => {\r\n    setValues( defaultValues );\r\n  }, [defaultValues]);\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    values,\r\n  };\r\n};\r\n\r\nexport default useForm;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,UAACC,QAAQ,EAAuB;EAAA;EAAA,IAArBC,aAAa,uEAAC,CAAC,CAAC;EAEzC,MAAMC,WAAW,GAAGN,UAAU,CAACC,WAAW,CAAC;EAC3C,IAAIM,KAAK,GAAGD,WAAW,CAACC,KAAK;EAG7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExC,MAAMY,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,EAAE;IACtBC,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,gBAAgB,CAAC;IACzC,IAAIC,GAAG,GAAG,oCAAoC;IAC9CV,MAAM,CAACW,QAAQ,GAAG,KAAK;IACvB,IAAIC,UAAU,GAAGC,IAAI,CAACC,SAAS,CAACd,MAAM,CAAC;IACvCK,OAAO,CAACC,GAAG,CAACM,UAAU,CAAC;IACvB,IAAIG,YAAY,GAAG,MAAMrB,KAAK,CAACsB,IAAI,CAACN,GAAG,EAAEE,UAAU,CAAC;IACpDhB,QAAQ,CAACmB,YAAY,CAACE,IAAI,CAAC;EAC7B,CAAC;EAED,MAAMC,YAAY,GAAIf,KAAK,IAAK;IAC9BA,KAAK,CAACgB,OAAO,EAAE;IAEf,IAAI;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGlB,KAAK,CAACmB,MAAM;IAClC,IAAIC,QAAQ,CAACF,KAAK,CAAC,EAAE;MACnBA,KAAK,GAAGE,QAAQ,CAACF,KAAK,CAAC;IACzB;IAEApB,SAAS,CAACD,MAAM,KAAK;MAAE,GAAGA,MAAM;MAAE,CAACoB,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EACrD,CAAC;EAED9B,SAAS,CAAE,MAAM;IACfU,SAAS,CAAEJ,aAAa,CAAE;EAC5B,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,OAAO;IACLqB,YAAY;IACZhB,YAAY;IACZF;EACF,CAAC;AACH,CAAC;AAAC,GAvCIL,OAAO;AAyCb,eAAeA,OAAO"},"metadata":{},"sourceType":"module"}